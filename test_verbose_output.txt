============================= test session starts ==============================
platform darwin -- Python 3.9.6, pytest-8.4.2, pluggy-1.6.0 -- /Library/Developer/CommandLineTools/usr/bin/python3
cachedir: .pytest_cache
rootdir: /Users/srijan/Desktop/aksh
plugins: asyncio-1.2.0, anyio-4.11.0
asyncio: mode=strict, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collecting ... collected 692 items

tests/unit/test_advanced_trainer.py::TestAdvancedTrainerInitialization::test_trainer_class_exists PASSED [  0%]
tests/unit/test_advanced_trainer.py::TestAdvancedTrainerInitialization::test_trainer_instantiation PASSED [  0%]
tests/unit/test_advanced_trainer.py::TestAdvancedTrainerInitialization::test_trainer_initializes_models_none PASSED [  0%]
tests/unit/test_advanced_trainer.py::TestDataLoading::test_load_data_combines_all_features PASSED [  0%]
tests/unit/test_advanced_trainer.py::TestDataLoading::test_load_data_handles_missing_columns PASSED [  0%]
tests/unit/test_advanced_trainer.py::TestDataLoading::test_load_data_filters_selected_features PASSED [  0%]
tests/unit/test_advanced_trainer.py::TestXGBoostTraining::test_train_xgboost_creates_model PASSED [  1%]
tests/unit/test_advanced_trainer.py::TestXGBoostTraining::test_xgboost_hyperparameters_correct PASSED [  1%]
tests/unit/test_advanced_trainer.py::TestXGBoostTraining::test_xgboost_can_predict PASSED [  1%]
tests/unit/test_advanced_trainer.py::TestXGBoostTraining::test_xgboost_feature_importance_available PASSED [  1%]
tests/unit/test_advanced_trainer.py::TestLightGBMTraining::test_train_lightgbm_creates_model PASSED [  1%]
tests/unit/test_advanced_trainer.py::TestLightGBMTraining::test_lightgbm_hyperparameters_correct PASSED [  1%]
tests/unit/test_advanced_trainer.py::TestLightGBMTraining::test_lightgbm_can_predict PASSED [  1%]
tests/unit/test_advanced_trainer.py::TestLightGBMTraining::test_lightgbm_feature_importance_available PASSED [  2%]
tests/unit/test_advanced_trainer.py::TestNeuralNetworkTraining::test_train_neural_network_creates_model PASSED [  2%]
tests/unit/test_advanced_trainer.py::TestNeuralNetworkTraining::test_neural_network_architecture_correct PASSED [  2%]
tests/unit/test_advanced_trainer.py::TestNeuralNetworkTraining::test_neural_network_can_predict PASSED [  2%]
tests/unit/test_advanced_trainer.py::TestNeuralNetworkTraining::test_neural_network_probabilities_sum_to_1 PASSED [  2%]
tests/unit/test_advanced_trainer.py::TestMetricsCalculation::test_evaluate_model_calculates_all_metrics PASSED [  2%]
tests/unit/test_advanced_trainer.py::TestMetricsCalculation::test_metrics_in_valid_range PASSED [  2%]
tests/unit/test_advanced_trainer.py::TestMetricsCalculation::test_f1_score_meets_threshold PASSED [  3%]
tests/unit/test_advanced_trainer.py::TestResultsSerialization::test_save_results_creates_json_file PASSED [  3%]
tests/unit/test_advanced_trainer.py::TestResultsSerialization::test_save_results_contains_all_three_models PASSED [  3%]
tests/unit/test_advanced_trainer.py::TestResultsSerialization::test_save_results_includes_metadata PASSED [  3%]
tests/unit/test_advanced_trainer.py::TestResultsSerialization::test_save_results_json_valid_format PASSED [  3%]
tests/unit/test_baseline_trainer.py::TestBaselineTrainerInitialization::test_trainer_class_exists PASSED [  3%]
tests/unit/test_baseline_trainer.py::TestBaselineTrainerInitialization::test_trainer_instantiation PASSED [  3%]
tests/unit/test_baseline_trainer.py::TestBaselineTrainerInitialization::test_trainer_initializes_models_none PASSED [  4%]
tests/unit/test_baseline_trainer.py::TestDataLoading::test_load_data_combines_all_features PASSED [  4%]
tests/unit/test_baseline_trainer.py::TestDataLoading::test_load_data_handles_missing_features PASSED [  4%]
tests/unit/test_baseline_trainer.py::TestDataLoading::test_load_data_filters_selected_features PASSED [  4%]
tests/unit/test_baseline_trainer.py::TestTrainTestSplit::test_split_data_80_20_ratio PASSED [  4%]
tests/unit/test_baseline_trainer.py::TestTrainTestSplit::test_split_data_stratified PASSED [  4%]
tests/unit/test_baseline_trainer.py::TestTrainTestSplit::test_split_data_random_state_reproducible PASSED [  4%]
tests/unit/test_baseline_trainer.py::TestLogisticRegressionTraining::test_train_logistic_regression_creates_model PASSED [  5%]
tests/unit/test_baseline_trainer.py::TestLogisticRegressionTraining::test_logistic_regression_hyperparameters PASSED [  5%]
tests/unit/test_baseline_trainer.py::TestLogisticRegressionTraining::test_logistic_regression_can_predict PASSED [  5%]
tests/unit/test_baseline_trainer.py::TestRandomForestTraining::test_train_random_forest_creates_model PASSED [  5%]
tests/unit/test_baseline_trainer.py::TestRandomForestTraining::test_random_forest_hyperparameters PASSED [  5%]
tests/unit/test_baseline_trainer.py::TestRandomForestTraining::test_random_forest_can_predict PASSED [  5%]
tests/unit/test_baseline_trainer.py::TestMetricsCalculation::test_evaluate_model_calculates_all_metrics PASSED [  5%]
tests/unit/test_baseline_trainer.py::TestMetricsCalculation::test_metrics_in_valid_range PASSED [  6%]
tests/unit/test_baseline_trainer.py::TestMetricsCalculation::test_perfect_predictions_score_1 PASSED [  6%]
tests/unit/test_baseline_trainer.py::TestResultsSerialization::test_save_results_creates_json_file PASSED [  6%]
tests/unit/test_baseline_trainer.py::TestResultsSerialization::test_save_results_contains_both_models PASSED [  6%]
tests/unit/test_baseline_trainer.py::TestResultsSerialization::test_save_results_includes_metadata PASSED [  6%]
tests/unit/test_baseline_trainer.py::TestResultsSerialization::test_save_results_json_valid_format PASSED [  6%]
tests/unit/test_baseline_trainer.py::TestEdgeCases::test_empty_dataset_raises_error PASSED [  6%]
tests/unit/test_baseline_trainer.py::TestEdgeCases::test_single_class_warns_user PASSED [  7%]
tests/unit/test_baseline_trainer.py::TestEdgeCases::test_missing_features_in_database_raises_error PASSED [  7%]
tests/unit/test_baseline_trainer.py::TestEdgeCases::test_mismatched_samples_logs_warning PASSED [  7%]
tests/unit/test_batch_predictor.py::test_batch_predictor_initialization PASSED [  7%]
tests/unit/test_batch_predictor.py::test_batch_predictor_fails_without_model PASSED [  7%]
tests/unit/test_batch_predictor.py::test_batch_predictor_creates_output_directory PASSED [  7%]
tests/unit/test_batch_predictor.py::test_fetch_active_stocks PASSED      [  7%]
tests/unit/test_batch_predictor.py::test_extract_features_for_stock PASSED [  8%]
tests/unit/test_batch_predictor.py::test_predict_batch_of_stocks PASSED  [  8%]
tests/unit/test_batch_predictor.py::test_predict_all_stocks_end_to_end PASSED [  8%]
tests/unit/test_batch_predictor.py::test_parallel_feature_extraction PASSED [  8%]
tests/unit/test_batch_predictor.py::test_parallel_processing_uses_cpu_cores PASSED [  8%]
tests/unit/test_batch_predictor.py::test_batch_size_configuration PASSED [  8%]
tests/unit/test_batch_predictor.py::test_handle_missing_features_gracefully PASSED [  8%]
tests/unit/test_batch_predictor.py::test_error_logging_for_failed_stocks PASSED [  9%]
tests/unit/test_batch_predictor.py::test_continue_on_prediction_errors PASSED [  9%]
tests/unit/test_batch_predictor.py::test_error_rate_threshold PASSED     [  9%]
tests/unit/test_batch_predictor.py::test_save_predictions_to_database PASSED [  9%]
tests/unit/test_batch_predictor.py::test_save_predictions_to_csv PASSED  [  9%]
tests/unit/test_batch_predictor.py::test_save_predictions_to_json PASSED [  9%]
tests/unit/test_batch_predictor.py::test_generate_batch_report PASSED    [  9%]
tests/unit/test_batch_predictor.py::test_performance_target_throughput PASSED [ 10%]
tests/unit/test_batch_predictor.py::test_performance_target_total_time PASSED [ 10%]
tests/unit/test_batch_predictor.py::test_memory_usage_within_limits PASSED [ 10%]
tests/unit/test_batch_predictor.py::test_batch_report_includes_performance_metrics PASSED [ 10%]
tests/unit/test_batch_predictor.py::test_cli_interface PASSED            [ 10%]
tests/unit/test_bse_nse_mapper.py::TestBSENSEMapperInitialization::test_mapper_class_exists PASSED [ 10%]
tests/unit/test_bse_nse_mapper.py::TestBSENSEMapperInitialization::test_mapper_instantiation PASSED [ 10%]
tests/unit/test_bse_nse_mapper.py::TestBSENSEMapperInitialization::test_load_existing_baseline_mapping PASSED [ 11%]
tests/unit/test_bse_nse_mapper.py::TestBhavCopyDownload::test_download_bhav_copies_returns_paths FAILED [ 11%]
tests/unit/test_bse_nse_mapper.py::TestBhavCopyDownload::test_parse_bse_bhav_copy_extracts_isin PASSED [ 11%]
tests/unit/test_bse_nse_mapper.py::TestBhavCopyDownload::test_parse_nse_bhav_copy_filters_eq_series PASSED [ 11%]
tests/unit/test_bse_nse_mapper.py::TestISINBasedMatching::test_isin_exact_match PASSED [ 11%]
tests/unit/test_bse_nse_mapper.py::TestISINBasedMatching::test_multiple_nse_symbols_for_same_isin_choose_highest_volume PASSED [ 11%]
tests/unit/test_bse_nse_mapper.py::TestISINBasedMatching::test_isin_coverage_60_70_percent PASSED [ 11%]
tests/unit/test_bse_nse_mapper.py::TestFuzzyNameMatching::test_fuzzy_match_high_confidence_90_plus SKIPPED [ 12%]
tests/unit/test_bse_nse_mapper.py::TestFuzzyNameMatching::test_fuzzy_match_medium_confidence_80_89 SKIPPED [ 12%]
tests/unit/test_bse_nse_mapper.py::TestFuzzyNameMatching::test_clean_company_name_before_matching PASSED [ 12%]
tests/unit/test_bse_nse_mapper.py::TestManualValidationCSV::test_generate_validation_csv_for_top_1000 PASSED [ 12%]
tests/unit/test_bse_nse_mapper.py::TestManualValidationCSV::test_validation_csv_flags_low_confidence PASSED [ 12%]
tests/unit/test_bse_nse_mapper.py::TestFinalMappingStorage::test_save_final_mapping_json_format PASSED [ 12%]
tests/unit/test_bse_nse_mapper.py::TestFinalMappingStorage::test_save_final_mapping_sqlite PASSED [ 13%]
tests/unit/test_bse_nse_mapper.py::TestMappingCoverage::test_calculate_coverage_80_percent PASSED [ 13%]
tests/unit/test_bse_nse_mapper.py::TestMappingCoverage::test_generate_unmapped_report_if_below_80 PASSED [ 13%]
tests/unit/test_bse_nse_mapper.py::TestEdgeCases::test_handle_multiple_nse_symbols_logs_conflict PASSED [ 13%]
tests/unit/test_bse_nse_mapper.py::TestEdgeCases::test_handle_delisted_nse_symbol PASSED [ 13%]
tests/unit/test_bse_nse_mapper.py::TestEdgeCases::test_log_name_mismatch_despite_isin_match PASSED [ 13%]
tests/unit/test_bse_nse_mapper.py::TestIntegrationScenarios::test_full_mapping_workflow SKIPPED [ 13%]
tests/unit/test_bse_nse_mapper.py::TestIntegrationScenarios::test_handle_empty_bhav_copy PASSED [ 14%]
tests/unit/test_cache_manager.py::TestCacheManager::test_01_initialization_with_redis PASSED [ 14%]
tests/unit/test_cache_manager.py::TestCacheManager::test_02_initialization_without_redis PASSED [ 14%]
tests/unit/test_cache_manager.py::TestCacheManager::test_03_initialization_sets_max_memory PASSED [ 14%]
tests/unit/test_cache_manager.py::TestCacheManager::test_04_redis_set_and_get PASSED [ 14%]
tests/unit/test_cache_manager.py::TestCacheManager::test_05_redis_ttl_expiration PASSED [ 14%]
tests/unit/test_cache_manager.py::TestCacheManager::test_06_redis_invalidate_pattern PASSED [ 14%]
tests/unit/test_cache_manager.py::TestCacheManager::test_07_redis_handles_complex_objects PASSED [ 15%]
tests/unit/test_cache_manager.py::TestCacheManager::test_08_redis_connection_failure_fallback PASSED [ 15%]
tests/unit/test_cache_manager.py::TestCacheManager::test_09_lru_set_and_get PASSED [ 15%]
tests/unit/test_cache_manager.py::TestCacheManager::test_10_lru_eviction_on_overflow PASSED [ 15%]
tests/unit/test_cache_manager.py::TestCacheManager::test_11_lru_updates_on_access PASSED [ 15%]
tests/unit/test_cache_manager.py::TestCacheManager::test_12_lru_handles_none_values PASSED [ 15%]
tests/unit/test_cache_manager.py::TestCacheManager::test_13_lru_works_without_redis PASSED [ 15%]
tests/unit/test_cache_manager.py::TestCacheManager::test_14_hierarchy_checks_l2_before_l1 PASSED [ 16%]
tests/unit/test_cache_manager.py::TestCacheManager::test_15_l1_miss_populates_l2 PASSED [ 16%]
tests/unit/test_cache_manager.py::TestCacheManager::test_16_set_updates_both_layers PASSED [ 16%]
tests/unit/test_cache_manager.py::TestCacheManager::test_17_invalidate_clears_both_layers PASSED [ 16%]
tests/unit/test_cache_manager.py::TestCacheManager::test_18_default_ttl_is_3600 PASSED [ 16%]
tests/unit/test_cache_manager.py::TestCacheManager::test_19_custom_ttl_respected PASSED [ 16%]
tests/unit/test_cache_manager.py::TestCacheManager::test_20_expired_keys_return_none PASSED [ 16%]
tests/unit/test_cache_manager.py::TestCacheManager::test_21_statistics_track_hits_and_misses PASSED [ 17%]
tests/unit/test_cache_manager.py::TestCacheManager::test_22_statistics_calculate_hit_rate PASSED [ 17%]
tests/unit/test_dashboard.py::TestGrafanaDashboard::test_generate_grafana_dashboard PASSED [ 17%]
tests/unit/test_dashboard.py::TestGrafanaDashboard::test_grafana_dashboard_has_panels PASSED [ 17%]
tests/unit/test_dashboard.py::TestGrafanaDashboard::test_grafana_dashboard_valid_json PASSED [ 17%]
tests/unit/test_dashboard.py::TestCustomHTMLDashboard::test_generate_html_dashboard PASSED [ 17%]
tests/unit/test_dashboard.py::TestCustomHTMLDashboard::test_html_dashboard_has_structure PASSED [ 17%]
tests/unit/test_dashboard.py::TestCustomHTMLDashboard::test_html_dashboard_has_title PASSED [ 18%]
tests/unit/test_dashboard.py::TestCustomHTMLDashboard::test_html_dashboard_has_charts PASSED [ 18%]
tests/unit/test_dashboard.py::TestDashboardSave::test_save_grafana_dashboard PASSED [ 18%]
tests/unit/test_dashboard.py::TestDashboardSave::test_save_html_dashboard PASSED [ 18%]
tests/unit/test_dashboard.py::TestDashboardPanels::test_dashboard_has_api_performance_panel PASSED [ 18%]
tests/unit/test_dashboard.py::TestDashboardPanels::test_dashboard_has_model_performance_panel PASSED [ 18%]
tests/unit/test_dashboard.py::TestDashboardPanels::test_dashboard_has_drift_panel PASSED [ 18%]
tests/unit/test_dashboard.py::TestDashboardMetadata::test_html_dashboard_shows_model_info PASSED [ 19%]
tests/unit/test_dashboard.py::TestDashboardIntegration::test_both_dashboards_generated PASSED [ 19%]
tests/unit/test_dashboard.py::TestDashboardIntegration::test_dashboards_directory_structure PASSED [ 19%]
tests/unit/test_data_quality_validator.py::TestDataQualityValidatorInitialization::test_validator_class_exists PASSED [ 19%]
tests/unit/test_data_quality_validator.py::TestDataQualityValidatorInitialization::test_validator_instantiation PASSED [ 19%]
tests/unit/test_data_quality_validator.py::TestDataQualityValidatorInitialization::test_validation_report_dataclass_exists PASSED [ 19%]
tests/unit/test_data_quality_validator.py::TestDataQualityValidatorInitialization::test_check_result_dataclass_exists PASSED [ 19%]
tests/unit/test_data_quality_validator.py::TestLabeledSamplesCountCheck::test_labeled_samples_check_pass PASSED [ 20%]
tests/unit/test_data_quality_validator.py::TestLabeledSamplesCountCheck::test_labeled_samples_check_fail PASSED [ 20%]
tests/unit/test_data_quality_validator.py::TestClassDistributionCheck::test_class_distribution_check_pass PASSED [ 20%]
tests/unit/test_data_quality_validator.py::TestClassDistributionCheck::test_class_distribution_too_low PASSED [ 20%]
tests/unit/test_data_quality_validator.py::TestClassDistributionCheck::test_class_distribution_too_high PASSED [ 20%]
tests/unit/test_data_quality_validator.py::TestFinancialDataCoverageCheck::test_financial_coverage_check_pass PASSED [ 20%]
tests/unit/test_data_quality_validator.py::TestFinancialDataCoverageCheck::test_financial_coverage_check_fail PASSED [ 20%]
tests/unit/test_data_quality_validator.py::TestPriceDataCompletenessCheck::test_price_completeness_check_pass PASSED [ 21%]
tests/unit/test_data_quality_validator.py::TestPriceDataCompletenessCheck::test_price_completeness_check_fail PASSED [ 21%]
tests/unit/test_data_quality_validator.py::TestBSENSEMappingCoverageCheck::test_mapping_coverage_check_pass PASSED [ 21%]
tests/unit/test_data_quality_validator.py::TestBSENSEMappingCoverageCheck::test_mapping_coverage_check_fail PASSED [ 21%]
tests/unit/test_data_quality_validator.py::TestValidationWorkflow::test_validate_training_readiness_all_pass PASSED [ 21%]
tests/unit/test_data_quality_validator.py::TestValidationWorkflow::test_validate_training_readiness_some_fail PASSED [ 21%]
tests/unit/test_data_quality_validator.py::TestRemediationSteps::test_generate_remediation_for_low_samples PASSED [ 21%]
tests/unit/test_data_quality_validator.py::TestRemediationSteps::test_prioritize_critical_failures PASSED [ 22%]
tests/unit/test_data_quality_validator.py::TestReportGeneration::test_save_report_to_file PASSED [ 22%]
tests/unit/test_data_quality_validator.py::TestReportGeneration::test_report_format_matches_spec PASSED [ 22%]
tests/unit/test_db_optimizer.py::TestDatabaseOptimizer::test_01_initialization_with_valid_db PASSED [ 22%]
tests/unit/test_db_optimizer.py::TestDatabaseOptimizer::test_02_initialization_creates_connection_pool PASSED [ 22%]
tests/unit/test_db_optimizer.py::TestDatabaseOptimizer::test_03_create_indexes_on_bse_code PASSED [ 22%]
tests/unit/test_db_optimizer.py::TestDatabaseOptimizer::test_04_create_indexes_on_date PASSED [ 22%]
tests/unit/test_db_optimizer.py::TestDatabaseOptimizer::test_05_create_indexes_on_label PASSED [ 23%]
tests/unit/test_db_optimizer.py::TestDatabaseOptimizer::test_06_indexes_improve_query_performance PASSED [ 23%]
tests/unit/test_db_optimizer.py::TestDatabaseOptimizer::test_07_get_connection_from_pool PASSED [ 23%]
tests/unit/test_db_optimizer.py::TestDatabaseOptimizer::test_08_release_connection_to_pool PASSED [ 23%]
tests/unit/test_db_optimizer.py::TestDatabaseOptimizer::test_09_pool_size_limit PASSED [ 23%]
tests/unit/test_db_optimizer.py::TestDatabaseOptimizer::test_10_concurrent_connections PASSED [ 23%]
tests/unit/test_db_optimizer.py::TestDatabaseOptimizer::test_11_execute_with_cache_caches_results PASSED [ 23%]
tests/unit/test_db_optimizer.py::TestDatabaseOptimizer::test_12_cache_hit_faster_than_miss PASSED [ 24%]
tests/unit/test_db_optimizer.py::TestDatabaseOptimizer::test_13_cache_respects_ttl PASSED [ 24%]
tests/unit/test_db_optimizer.py::TestDatabaseOptimizer::test_14_analyze_query_plan PASSED [ 24%]
tests/unit/test_db_optimizer.py::TestDatabaseOptimizer::test_15_query_plan_shows_index_usage PASSED [ 24%]
tests/unit/test_db_optimizer.py::TestDatabaseOptimizer::test_16_batch_query_performance PASSED [ 24%]
tests/unit/test_degradation_monitor.py::TestModelMonitorInitialization::test_init_creates_model_monitor FAILED [ 24%]
tests/unit/test_degradation_monitor.py::TestModelMonitorInitialization::test_init_creates_database_schema FAILED [ 25%]
tests/unit/test_degradation_monitor.py::TestGroundTruthCollection::test_store_production_label FAILED [ 25%]
tests/unit/test_degradation_monitor.py::TestGroundTruthCollection::test_load_production_labels FAILED [ 25%]
tests/unit/test_degradation_monitor.py::TestPerformanceCalculation::test_calculate_f1_score FAILED [ 25%]
tests/unit/test_degradation_monitor.py::TestPerformanceCalculation::test_rolling_window_metrics FAILED [ 25%]
tests/unit/test_degradation_monitor.py::TestDegradationDetection::test_detect_no_degradation FAILED [ 25%]
tests/unit/test_degradation_monitor.py::TestDegradationDetection::test_detect_minor_degradation FAILED [ 25%]
tests/unit/test_degradation_monitor.py::TestDegradationDetection::test_detect_moderate_degradation FAILED [ 26%]
tests/unit/test_degradation_monitor.py::TestDegradationDetection::test_detect_severe_degradation FAILED [ 26%]
tests/unit/test_degradation_monitor.py::TestDegradationDetection::test_minimum_predictions_threshold FAILED [ 26%]
tests/unit/test_degradation_monitor.py::TestPerformanceReport::test_generate_performance_report FAILED [ 26%]
tests/unit/test_degradation_monitor.py::TestPerformanceReport::test_report_includes_degradation_status FAILED [ 26%]
tests/unit/test_degradation_monitor.py::TestRollbackTrigger::test_recommend_rollback_severe FAILED [ 26%]
tests/unit/test_degradation_monitor.py::TestRollbackTrigger::test_no_rollback_for_minor FAILED [ 26%]
tests/unit/test_degradation_monitor.py::TestPerformanceMetrics::test_get_dashboard_metrics FAILED [ 27%]
tests/unit/test_degradation_monitor.py::TestModelMonitorIntegration::test_full_monitoring_workflow FAILED [ 27%]
tests/unit/test_drift_detector.py::TestDriftDetectorInitialization::test_init_creates_drift_detector PASSED [ 27%]
tests/unit/test_drift_detector.py::TestDriftDetectorInitialization::test_init_creates_database_schema PASSED [ 27%]
tests/unit/test_drift_detector.py::TestKSStatistic::test_calculate_ks_statistic_no_drift PASSED [ 27%]
tests/unit/test_drift_detector.py::TestKSStatistic::test_calculate_ks_statistic_with_drift PASSED [ 27%]
tests/unit/test_drift_detector.py::TestKSStatistic::test_ks_statistic_returns_p_value PASSED [ 27%]
tests/unit/test_drift_detector.py::TestPSI::test_calculate_psi_no_drift PASSED [ 28%]
tests/unit/test_drift_detector.py::TestPSI::test_calculate_psi_moderate_drift PASSED [ 28%]
tests/unit/test_drift_detector.py::TestPSI::test_calculate_psi_significant_drift PASSED [ 28%]
tests/unit/test_drift_detector.py::TestPSI::test_psi_formula_correctness PASSED [ 28%]
tests/unit/test_drift_detector.py::TestBaselineStorage::test_store_baseline_distribution PASSED [ 28%]
tests/unit/test_drift_detector.py::TestBaselineStorage::test_load_baseline_distribution PASSED [ 28%]
tests/unit/test_drift_detector.py::TestBaselineStorage::test_baseline_statistics_stored PASSED [ 28%]
tests/unit/test_drift_detector.py::TestDriftDetection::test_detect_drift_all_features PASSED [ 29%]
tests/unit/test_drift_detector.py::TestDriftDetection::test_detect_drift_identifies_drifted_features PASSED [ 29%]
tests/unit/test_drift_detector.py::TestDriftReport::test_generate_drift_report PASSED [ 29%]
tests/unit/test_drift_detector.py::TestDriftReport::test_report_includes_severity PASSED [ 29%]
tests/unit/test_drift_detector.py::TestAlertThresholds::test_determine_alert_severity_low PASSED [ 29%]
tests/unit/test_drift_detector.py::TestAlertThresholds::test_determine_alert_severity_moderate PASSED [ 29%]
tests/unit/test_drift_detector.py::TestAlertThresholds::test_determine_alert_severity_high PASSED [ 29%]
tests/unit/test_drift_detector.py::TestAlertThresholds::test_determine_alert_severity_critical PASSED [ 30%]
tests/unit/test_drift_detector.py::TestDriftDetectorIntegration::test_full_drift_detection_workflow PASSED [ 30%]
tests/unit/test_drift_detector.py::TestDriftDetectorIntegration::test_multiple_model_versions PASSED [ 30%]
tests/unit/test_financial_extractor.py::TestFinancialExtractorInitialization::test_extractor_class_exists PASSED [ 30%]
tests/unit/test_financial_extractor.py::TestFinancialExtractorInitialization::test_extractor_instantiation PASSED [ 30%]
tests/unit/test_financial_extractor.py::TestFinancialExtractorInitialization::test_extractor_creates_database_table PASSED [ 30%]
tests/unit/test_financial_extractor.py::TestEarningsAnnouncementQuery::test_query_earnings_from_database PASSED [ 30%]
tests/unit/test_financial_extractor.py::TestEarningsAnnouncementQuery::test_identify_quarter_from_announcement_date PASSED [ 31%]
tests/unit/test_financial_extractor.py::TestPDFDownloadAndCaching::test_download_pdf_successful PASSED [ 31%]
tests/unit/test_financial_extractor.py::TestPDFDownloadAndCaching::test_download_pdf_uses_cache PASSED [ 31%]
tests/unit/test_financial_extractor.py::TestPDFDownloadAndCaching::test_download_pdf_404_error PASSED [ 31%]
tests/unit/test_financial_extractor.py::TestFinancialDataExtraction::test_extract_from_pdf_successful FAILED [ 31%]
tests/unit/test_financial_extractor.py::TestFinancialDataExtraction::test_extract_from_pdf_returns_none_on_failure PASSED [ 31%]
tests/unit/test_financial_extractor.py::TestFinancialDataExtraction::test_skip_if_already_extracted_with_high_confidence PASSED [ 31%]
tests/unit/test_financial_extractor.py::TestDatabaseStorage::test_store_financial_data PASSED [ 32%]
tests/unit/test_financial_extractor.py::TestDatabaseStorage::test_store_uses_insert_or_replace PASSED [ 32%]
tests/unit/test_financial_extractor.py::TestDataValidation::test_validate_revenue_positive FAILED [ 32%]
tests/unit/test_financial_extractor.py::TestDataValidation::test_validate_margin_bounds FAILED [ 32%]
tests/unit/test_financial_extractor.py::TestDataValidation::test_validate_no_duplicates PASSED [ 32%]
tests/unit/test_financial_extractor.py::TestDataValidation::test_mark_low_confidence_on_validation_failure PASSED [ 32%]
tests/unit/test_financial_extractor.py::TestSuccessRateCalculation::test_calculate_success_rate PASSED [ 32%]
tests/unit/test_financial_extractor.py::TestSuccessRateCalculation::test_success_rate_meets_target PASSED [ 33%]
tests/unit/test_financial_extractor.py::TestFailureLogging::test_log_extraction_failure PASSED [ 33%]
tests/unit/test_financial_extractor.py::TestFailureLogging::test_analyze_failures_by_error_type PASSED [ 33%]
tests/unit/test_financial_extractor.py::TestIntegrationScenarios::test_extract_all_financials_workflow FAILED [ 33%]
tests/unit/test_financial_extractor.py::TestIntegrationScenarios::test_handle_empty_earnings_calendar PASSED [ 33%]
tests/unit/test_financial_features.py::TestFinancialFeatureExtractorInitialization::test_extractor_class_exists PASSED [ 33%]
tests/unit/test_financial_features.py::TestFinancialFeatureExtractorInitialization::test_extractor_instantiation PASSED [ 33%]
tests/unit/test_financial_features.py::TestFinancialFeatureExtractorInitialization::test_output_database_schema_created PASSED [ 34%]
tests/unit/test_financial_features.py::TestRevenueGrowthCalculation::test_qoq_revenue_growth_positive PASSED [ 34%]
tests/unit/test_financial_features.py::TestRevenueGrowthCalculation::test_yoy_revenue_growth PASSED [ 34%]
tests/unit/test_financial_features.py::TestRevenueGrowthCalculation::test_revenue_growth_4q_average PASSED [ 34%]
tests/unit/test_financial_features.py::TestRevenueGrowthCalculation::test_negative_revenue_handling PASSED [ 34%]
tests/unit/test_financial_features.py::TestProfitGrowthCalculation::test_qoq_pat_growth_positive PASSED [ 34%]
tests/unit/test_financial_features.py::TestProfitGrowthCalculation::test_yoy_pat_growth PASSED [ 34%]
tests/unit/test_financial_features.py::TestProfitGrowthCalculation::test_loss_to_profit_turnaround PASSED [ 35%]
tests/unit/test_financial_features.py::TestProfitGrowthCalculation::test_profit_to_loss PASSED [ 35%]
tests/unit/test_financial_features.py::TestMarginCalculation::test_operating_margin_calculation PASSED [ 35%]
tests/unit/test_financial_features.py::TestMarginCalculation::test_net_profit_margin_calculation PASSED [ 35%]
tests/unit/test_financial_features.py::TestMarginCalculation::test_margin_expansion PASSED [ 35%]
tests/unit/test_financial_features.py::TestMarginCalculation::test_avg_margin_4q PASSED [ 35%]
tests/unit/test_financial_features.py::TestEPSFeatures::test_qoq_eps_growth PASSED [ 35%]
tests/unit/test_financial_features.py::TestEPSFeatures::test_yoy_eps_growth PASSED [ 36%]
tests/unit/test_financial_features.py::TestEPSFeatures::test_eps_consistency PASSED [ 36%]
tests/unit/test_financial_features.py::TestEarningsQuality::test_consecutive_growth_quarters PASSED [ 36%]
tests/unit/test_financial_features.py::TestEarningsQuality::test_earnings_surprise_detection PASSED [ 36%]
tests/unit/test_financial_features.py::TestEarningsQuality::test_no_earnings_surprise PASSED [ 36%]
tests/unit/test_financial_features.py::TestFeatureExtraction::test_extract_features_for_sample PASSED [ 36%]
tests/unit/test_financial_features.py::TestFeatureExtraction::test_extract_features_batch PASSED [ 36%]
tests/unit/test_financial_features.py::TestMissingDataHandling::test_insufficient_data_returns_nan PASSED [ 37%]
tests/unit/test_financial_features.py::TestMissingDataHandling::test_missing_data_logged PASSED [ 37%]
tests/unit/test_financial_features.py::TestPerformance::test_batch_processing_performance FAILED [ 37%]
tests/unit/test_historical_analyzer.py::TestHistoricalAnalyzer::test_analyzer_initialization PASSED [ 37%]
tests/unit/test_historical_analyzer.py::TestHistoricalAnalyzer::test_analyze_period_basic PASSED [ 37%]
tests/unit/test_historical_analyzer.py::TestHistoricalAnalyzer::test_analyze_period_temporal_ordering PASSED [ 37%]
tests/unit/test_historical_analyzer.py::TestHistoricalAnalyzer::test_analyze_multiple_years PASSED [ 38%]
tests/unit/test_historical_analyzer.py::TestHistoricalAnalyzer::test_quarterly_breakdown PASSED [ 38%]
tests/unit/test_historical_analyzer.py::TestHistoricalAnalyzer::test_performance_comparison_table PASSED [ 38%]
tests/unit/test_historical_analyzer.py::TestHistoricalAnalyzer::test_temporal_pattern_detection PASSED [ 38%]
tests/unit/test_historical_analyzer.py::TestHistoricalAnalyzer::test_statistical_significance PASSED [ 38%]
tests/unit/test_historical_analyzer.py::TestHistoricalAnalyzer::test_feature_importance_per_period PASSED [ 38%]
tests/unit/test_historical_analyzer.py::TestHistoricalAnalyzer::test_save_results PASSED [ 38%]
tests/unit/test_historical_analyzer.py::TestHistoricalAnalyzer::test_confusion_matrix_calculation PASSED [ 39%]
tests/unit/test_historical_analyzer.py::TestHistoricalAnalyzer::test_classification_report_generation PASSED [ 39%]
tests/unit/test_historical_analyzer.py::TestHistoricalAnalyzer::test_roc_auc_calculation PASSED [ 39%]
tests/unit/test_historical_analyzer.py::TestHistoricalAnalyzer::test_upper_circuit_rate_calculation PASSED [ 39%]
tests/unit/test_historical_analyzer.py::TestHistoricalAnalyzer::test_data_loading_for_period PASSED [ 39%]
tests/unit/test_historical_analyzer.py::TestHistoricalAnalyzer::test_model_training_and_evaluation PASSED [ 39%]
tests/unit/test_historical_analyzer.py::TestHistoricalAnalyzer::test_period_performance_dataclass PASSED [ 39%]
tests/unit/test_historical_analyzer.py::TestHistoricalAnalyzer::test_handle_missing_data PASSED [ 40%]
tests/unit/test_historical_analyzer.py::TestHistoricalAnalyzer::test_handle_single_class_labels PASSED [ 40%]
tests/unit/test_hyperparameter_tuner.py::TestHyperparameterTunerInitialization::test_tuner_class_exists PASSED [ 40%]
tests/unit/test_hyperparameter_tuner.py::TestHyperparameterTunerInitialization::test_tuner_instantiation PASSED [ 40%]
tests/unit/test_hyperparameter_tuner.py::TestHyperparameterTunerInitialization::test_tuner_default_n_trials PASSED [ 40%]
tests/unit/test_hyperparameter_tuner.py::TestOptunaStudyCreation::test_create_study_uses_tpe_sampler PASSED [ 40%]
tests/unit/test_hyperparameter_tuner.py::TestOptunaStudyCreation::test_create_study_maximizes_f1 PASSED [ 40%]
tests/unit/test_hyperparameter_tuner.py::TestOptunaStudyCreation::test_create_study_uses_random_state PASSED [ 41%]
tests/unit/test_hyperparameter_tuner.py::TestXGBoostTuning::test_tune_xgboost_creates_study PASSED [ 41%]
tests/unit/test_hyperparameter_tuner.py::TestXGBoostTuning::test_xgboost_hyperparameter_ranges PASSED [ 41%]
tests/unit/test_hyperparameter_tuner.py::TestXGBoostTuning::test_xgboost_tuning_uses_cross_validation PASSED [ 41%]
tests/unit/test_hyperparameter_tuner.py::TestXGBoostTuning::test_xgboost_returns_best_f1_score PASSED [ 41%]
tests/unit/test_hyperparameter_tuner.py::TestXGBoostTuning::test_xgboost_tuning_completes_n_trials PASSED [ 41%]
tests/unit/test_hyperparameter_tuner.py::TestLightGBMTuning::test_tune_lightgbm_creates_study PASSED [ 41%]
tests/unit/test_hyperparameter_tuner.py::TestLightGBMTuning::test_lightgbm_hyperparameter_ranges PASSED [ 42%]
tests/unit/test_hyperparameter_tuner.py::TestLightGBMTuning::test_lightgbm_tuning_uses_cross_validation PASSED [ 42%]
tests/unit/test_hyperparameter_tuner.py::TestLightGBMTuning::test_lightgbm_returns_best_f1_score PASSED [ 42%]
tests/unit/test_hyperparameter_tuner.py::TestLightGBMTuning::test_lightgbm_tuning_completes_n_trials PASSED [ 42%]
tests/unit/test_hyperparameter_tuner.py::TestNeuralNetworkTuning::test_tune_neural_network_creates_study PASSED [ 42%]
tests/unit/test_hyperparameter_tuner.py::TestNeuralNetworkTuning::test_neural_network_hyperparameter_ranges PASSED [ 42%]
tests/unit/test_hyperparameter_tuner.py::TestNeuralNetworkTuning::test_neural_network_tuning_uses_cross_validation PASSED [ 42%]
tests/unit/test_hyperparameter_tuner.py::TestNeuralNetworkTuning::test_neural_network_returns_best_f1_score PASSED [ 43%]
tests/unit/test_hyperparameter_tuner.py::TestNeuralNetworkTuning::test_neural_network_tuning_completes_n_trials PASSED [ 43%]
tests/unit/test_hyperparameter_tuner.py::TestCrossValidation::test_stratified_kfold_used PASSED [ 43%]
tests/unit/test_hyperparameter_tuner.py::TestCrossValidation::test_cv_returns_mean_f1_score PASSED [ 43%]
tests/unit/test_hyperparameter_tuner.py::TestResultsSerialization::test_save_results_creates_json_file PASSED [ 43%]
tests/unit/test_hyperparameter_tuner.py::TestResultsSerialization::test_save_results_includes_best_parameters PASSED [ 43%]
tests/unit/test_hyperparameter_tuner.py::TestResultsSerialization::test_save_results_includes_best_scores PASSED [ 43%]
tests/unit/test_hyperparameter_tuner.py::TestResultsSerialization::test_save_results_includes_metadata PASSED [ 44%]
tests/unit/test_hyperparameter_tuner.py::TestEdgeCases::test_handles_small_n_trials PASSED [ 44%]
tests/unit/test_hyperparameter_tuner.py::TestEdgeCases::test_handles_imbalanced_data PASSED [ 44%]
tests/unit/test_hyperparameter_tuner.py::TestEdgeCases::test_suppresses_optuna_logs PASSED [ 44%]
tests/unit/test_inference_optimizer.py::TestInferenceOptimizer::test_achieves_target_speedup PASSED [ 44%]
tests/unit/test_inference_optimizer.py::TestInferenceOptimizer::test_benchmark_calculates_percentiles PASSED [ 44%]
tests/unit/test_inference_optimizer.py::TestInferenceOptimizer::test_benchmark_inference PASSED [ 44%]
tests/unit/test_inference_optimizer.py::TestInferenceOptimizer::test_benchmark_multiple_models PASSED [ 45%]
tests/unit/test_inference_optimizer.py::TestInferenceOptimizer::test_benchmark_shows_speedup PASSED [ 45%]
tests/unit/test_inference_optimizer.py::TestInferenceOptimizer::test_convert_invalid_model_type PASSED [ 45%]
tests/unit/test_inference_optimizer.py::TestInferenceOptimizer::test_convert_lightgbm_to_onnx PASSED [ 45%]
tests/unit/test_inference_optimizer.py::TestInferenceOptimizer::test_convert_preserves_model_accuracy PASSED [ 45%]
tests/unit/test_inference_optimizer.py::TestInferenceOptimizer::test_convert_xgboost_to_onnx PASSED [ 45%]
tests/unit/test_inference_optimizer.py::TestInferenceOptimizer::test_end_to_end_optimization_pipeline PASSED [ 45%]
tests/unit/test_inference_optimizer.py::TestInferenceOptimizer::test_load_onnx_model_cpu PASSED [ 46%]
tests/unit/test_inference_optimizer.py::TestInferenceOptimizer::test_onnx_inference_faster_than_original PASSED [ 46%]
tests/unit/test_inference_optimizer.py::TestInferenceOptimizer::test_predict_with_onnx_batch PASSED [ 46%]
tests/unit/test_inference_optimizer.py::TestInferenceOptimizer::test_predict_with_onnx_single PASSED [ 46%]
tests/unit/test_inference_optimizer.py::TestInferenceOptimizer::test_quantize_model PASSED [ 46%]
tests/unit/test_inference_optimizer.py::TestInferenceOptimizer::test_quantized_model_accuracy PASSED [ 46%]
tests/unit/test_inference_optimizer.py::TestInferenceOptimizer::test_quantized_model_faster PASSED [ 46%]
tests/unit/test_inference_optimizer.py::TestInferenceOptimizer::test_supports_multiple_model_types PASSED [ 47%]
tests/unit/test_load_tester.py::TestLoadTester::test_01_create_basic_test_plan PASSED [ 47%]
tests/unit/test_load_tester.py::TestLoadTester::test_02_test_plan_includes_scenarios PASSED [ 47%]
tests/unit/test_load_tester.py::TestLoadTester::test_03_test_plan_configurable PASSED [ 47%]
tests/unit/test_load_tester.py::TestLoadTester::test_04_collect_latency_metrics PASSED [ 47%]
tests/unit/test_load_tester.py::TestLoadTester::test_05_collect_throughput_metrics PASSED [ 47%]
tests/unit/test_load_tester.py::TestLoadTester::test_06_collect_error_rate_metrics PASSED [ 47%]
tests/unit/test_load_tester.py::TestLoadTester::test_07_metrics_handle_empty_results PASSED [ 48%]
tests/unit/test_load_tester.py::TestLoadTester::test_08_analyze_latency_percentiles PASSED [ 48%]
tests/unit/test_load_tester.py::TestLoadTester::test_09_analyze_throughput PASSED [ 48%]
tests/unit/test_load_tester.py::TestLoadTester::test_10_analyze_error_rate PASSED [ 48%]
tests/unit/test_load_tester.py::TestLoadTester::test_11_analysis_identifies_performance_issues PASSED [ 48%]
tests/unit/test_load_tester.py::TestLoadTester::test_12_recommend_scaling_for_high_latency PASSED [ 48%]
tests/unit/test_load_tester.py::TestLoadTester::test_13_recommend_scaling_for_high_cpu PASSED [ 48%]
tests/unit/test_load_tester.py::TestLoadTester::test_14_recommend_optimization_for_high_error_rate PASSED [ 49%]
tests/unit/test_load_tester.py::TestLoadTester::test_15_no_recommendations_when_performing_well PASSED [ 49%]
tests/unit/test_ml_data_collector.py::TestMLDataCollectorAgentInitialization::test_agent_class_exists PASSED [ 49%]
tests/unit/test_ml_data_collector.py::TestMLDataCollectorAgentInitialization::test_agent_instantiation_with_defaults PASSED [ 49%]
tests/unit/test_ml_data_collector.py::TestMLDataCollectorAgentInitialization::test_agent_loads_config_from_env PASSED [ 49%]
tests/unit/test_ml_data_collector.py::TestMLDataCollectorAgentInitialization::test_agent_initializes_status_database PASSED [ 49%]
tests/unit/test_ml_data_collector.py::TestMLDataCollectorAgentInitialization::test_agent_has_required_methods PASSED [ 50%]
tests/unit/test_ml_data_collector.py::TestMLDataCollectorAgentOrchestration::test_collect_all_data_executes_in_sequence PASSED [ 50%]
tests/unit/test_ml_data_collector.py::TestMLDataCollectorAgentOrchestration::test_collect_all_data_returns_collection_report PASSED [ 50%]
tests/unit/test_ml_data_collector.py::TestMLDataCollectorAgentOrchestration::test_collect_all_data_stops_on_critical_failure FAILED [ 50%]
tests/unit/test_ml_data_collector.py::TestErrorHandlingAndRetry::test_retry_logic_on_transient_failure PASSED [ 50%]
tests/unit/test_ml_data_collector.py::TestErrorHandlingAndRetry::test_exponential_backoff_between_retries PASSED [ 50%]
tests/unit/test_ml_data_collector.py::TestErrorHandlingAndRetry::test_agent_logs_all_errors PASSED [ 50%]
tests/unit/test_ml_data_collector.py::TestProgressTracking::test_progress_written_to_database PASSED [ 51%]
tests/unit/test_ml_data_collector.py::TestProgressTracking::test_progress_includes_timestamps PASSED [ 51%]
tests/unit/test_ml_data_collector.py::TestStructuredLogging::test_logs_use_json_format FAILED [ 51%]
tests/unit/test_ml_data_collector.py::TestStructuredLogging::test_logs_include_agent_name FAILED [ 51%]
tests/unit/test_ml_data_collector.py::TestIntegrationScenarios::test_collect_small_dataset_end_to_end PASSED [ 51%]
tests/unit/test_ml_data_collector.py::TestIntegrationScenarios::test_handle_empty_bse_codes_list PASSED [ 51%]
tests/unit/test_ml_data_collector.py::TestIntegrationScenarios::test_handle_invalid_date_range FAILED [ 51%]
tests/unit/test_model_evaluator.py::TestModelEvaluatorInitialization::test_evaluator_class_exists PASSED [ 52%]
tests/unit/test_model_evaluator.py::TestModelEvaluatorInitialization::test_evaluator_instantiation PASSED [ 52%]
tests/unit/test_model_evaluator.py::TestModelEvaluatorInitialization::test_evaluator_creates_output_directory PASSED [ 52%]
tests/unit/test_model_evaluator.py::TestMetricsCalculation::test_calculate_metrics_returns_all_metrics PASSED [ 52%]
tests/unit/test_model_evaluator.py::TestMetricsCalculation::test_calculate_metrics_correct_values PASSED [ 52%]
tests/unit/test_model_evaluator.py::TestMetricsCalculation::test_calculate_metrics_handles_zero_division PASSED [ 52%]
tests/unit/test_model_evaluator.py::TestMetricsCalculation::test_calculate_metrics_rounds_to_4_decimals PASSED [ 52%]
tests/unit/test_model_evaluator.py::TestMetricsCalculation::test_calculate_metrics_classification_report PASSED [ 53%]
tests/unit/test_model_evaluator.py::TestConfusionMatrix::test_get_confusion_matrix_returns_2x2_array PASSED [ 53%]
tests/unit/test_model_evaluator.py::TestConfusionMatrix::test_confusion_matrix_values_correct PASSED [ 53%]
tests/unit/test_model_evaluator.py::TestConfusionMatrix::test_plot_confusion_matrix_saves_png PASSED [ 53%]
tests/unit/test_model_evaluator.py::TestROCCurve::test_plot_roc_curve_saves_png PASSED [ 53%]
tests/unit/test_model_evaluator.py::TestROCCurve::test_plot_roc_curve_returns_auc_in_title PASSED [ 53%]
tests/unit/test_model_evaluator.py::TestROCCurve::test_plot_roc_curve_multiple_models PASSED [ 53%]
tests/unit/test_model_evaluator.py::TestPRCurve::test_plot_pr_curve_saves_png PASSED [ 54%]
tests/unit/test_model_evaluator.py::TestPRCurve::test_plot_pr_curve_includes_auc PASSED [ 54%]
tests/unit/test_model_evaluator.py::TestPRCurve::test_plot_pr_curve_multiple_models PASSED [ 54%]
tests/unit/test_model_evaluator.py::TestSHAPFeatureImportance::test_plot_shap_importance_xgboost PASSED [ 54%]
tests/unit/test_model_evaluator.py::TestSHAPFeatureImportance::test_plot_shap_importance_lightgbm PASSED [ 54%]
tests/unit/test_model_evaluator.py::TestSHAPFeatureImportance::test_plot_shap_importance_uses_tree_explainer PASSED [ 54%]
tests/unit/test_model_evaluator.py::TestSHAPFeatureImportance::test_plot_shap_importance_skips_non_tree_models PASSED [ 54%]
tests/unit/test_model_evaluator.py::TestHTMLReportGeneration::test_generate_html_report_creates_file PASSED [ 55%]
tests/unit/test_model_evaluator.py::TestHTMLReportGeneration::test_html_report_contains_metrics PASSED [ 55%]
tests/unit/test_model_evaluator.py::TestHTMLReportGeneration::test_html_report_embeds_images_base64 PASSED [ 55%]
tests/unit/test_model_evaluator.py::TestHTMLReportGeneration::test_html_report_self_contained PASSED [ 55%]
tests/unit/test_model_evaluator.py::TestModelComparison::test_evaluate_model_returns_complete_results PASSED [ 55%]
tests/unit/test_model_evaluator.py::TestModelComparison::test_evaluate_multiple_models PASSED [ 55%]
tests/unit/test_model_evaluator.py::TestModelComparison::test_comparison_report_includes_all_models PASSED [ 55%]
tests/unit/test_model_evaluator.py::TestEdgeCases::test_handles_empty_test_set PASSED [ 56%]
tests/unit/test_model_evaluator.py::TestEdgeCases::test_handles_all_same_class PASSED [ 56%]
tests/unit/test_model_evaluator.py::TestEdgeCases::test_handles_missing_feature_names PASSED [ 56%]
tests/unit/test_model_loader.py::TestModelLoaderInitialization::test_initialization_with_default_cache_size PASSED [ 56%]
tests/unit/test_model_loader.py::TestModelLoaderInitialization::test_initialization_with_custom_cache_size PASSED [ 56%]
tests/unit/test_model_loader.py::TestModelLoaderInitialization::test_initialization_creates_lock PASSED [ 56%]
tests/unit/test_model_loader.py::TestModelLoading::test_load_model_with_type_and_version PASSED [ 56%]
tests/unit/test_model_loader.py::TestModelLoading::test_load_model_with_type_only_uses_latest PASSED [ 57%]
tests/unit/test_model_loader.py::TestModelLoading::test_load_model_caches_result PASSED [ 57%]
tests/unit/test_model_loader.py::TestModelLoading::test_load_model_raises_error_on_failure PASSED [ 57%]
tests/unit/test_model_loader.py::TestLRUCache::test_cache_evicts_oldest_when_full PASSED [ 57%]
tests/unit/test_model_loader.py::TestLRUCache::test_cache_updates_lru_on_access PASSED [ 57%]
tests/unit/test_model_loader.py::TestLRUCache::test_cache_respects_memory_limit PASSED [ 57%]
tests/unit/test_model_loader.py::TestLRUCache::test_cache_key_format PASSED [ 57%]
tests/unit/test_model_loader.py::TestThreadSafety::test_concurrent_loads_use_lock PASSED [ 58%]
tests/unit/test_model_loader.py::TestThreadSafety::test_concurrent_loads_dont_duplicate PASSED [ 58%]
tests/unit/test_model_loader.py::TestThreadSafety::test_thread_safe_cache_modification PASSED [ 58%]
tests/unit/test_model_loader.py::TestHotReload::test_reload_model_loads_new_version PASSED [ 58%]
tests/unit/test_model_loader.py::TestHotReload::test_reload_all_models_refreshes_cache PASSED [ 58%]
tests/unit/test_model_loader.py::TestHotReload::test_hot_reload_doesnt_interrupt_service PASSED [ 58%]
tests/unit/test_model_loader.py::TestCacheStatistics::test_get_cache_stats_returns_metrics PASSED [ 58%]
tests/unit/test_model_loader.py::TestCacheStatistics::test_cache_hit_rate_calculation PASSED [ 59%]
tests/unit/test_model_loader.py::TestCacheStatistics::test_cache_eviction_tracking PASSED [ 59%]
tests/unit/test_model_loader.py::TestModelRegistryIntegration::test_get_model_metadata_without_loading PASSED [ 59%]
tests/unit/test_model_loader.py::TestModelRegistryIntegration::test_fallback_to_previous_version_on_load_failure PASSED [ 59%]
tests/unit/test_model_loader.py::TestModelRegistryIntegration::test_list_available_models PASSED [ 59%]
tests/unit/test_model_registry.py::TestModelRegistryInitialization::test_registry_class_exists PASSED [ 59%]
tests/unit/test_model_registry.py::TestModelRegistryInitialization::test_registry_instantiation PASSED [ 59%]
tests/unit/test_model_registry.py::TestModelRegistryInitialization::test_registry_creates_database PASSED [ 60%]
tests/unit/test_model_registry.py::TestModelRegistryInitialization::test_registry_default_storage_path PASSED [ 60%]
tests/unit/test_model_registry.py::TestSaveModel::test_save_model_basic PASSED [ 60%]
tests/unit/test_model_registry.py::TestSaveModel::test_save_model_creates_pickle_file PASSED [ 60%]
tests/unit/test_model_registry.py::TestSaveModel::test_save_model_stores_metadata_in_db PASSED [ 60%]
tests/unit/test_model_registry.py::TestSaveModel::test_save_model_auto_version_increment PASSED [ 60%]
tests/unit/test_model_registry.py::TestLoadModel::test_load_model_by_id PASSED [ 60%]
tests/unit/test_model_registry.py::TestLoadModel::test_load_model_by_version PASSED [ 61%]
tests/unit/test_model_registry.py::TestLoadModel::test_load_model_predictions_work PASSED [ 61%]
tests/unit/test_model_registry.py::TestLoadModel::test_load_model_returns_none_if_not_found PASSED [ 61%]
tests/unit/test_model_registry.py::TestListModels::test_list_models_returns_all_models PASSED [ 61%]
tests/unit/test_model_registry.py::TestListModels::test_list_models_filters_by_model_type PASSED [ 61%]
tests/unit/test_model_registry.py::TestListModels::test_list_models_filters_by_min_f1 PASSED [ 61%]
tests/unit/test_model_registry.py::TestListModels::test_list_models_includes_metadata PASSED [ 61%]
tests/unit/test_model_registry.py::TestGetBestModel::test_get_best_model_by_f1 PASSED [ 62%]
tests/unit/test_model_registry.py::TestGetBestModel::test_get_best_model_by_roc_auc PASSED [ 62%]
tests/unit/test_model_registry.py::TestGetBestModel::test_get_best_model_filters_by_type PASSED [ 62%]
tests/unit/test_model_registry.py::TestVersionManagement::test_semantic_versioning_format PASSED [ 62%]
tests/unit/test_model_registry.py::TestVersionManagement::test_auto_increment_patch_version PASSED [ 62%]
tests/unit/test_model_registry.py::TestVersionManagement::test_manual_major_version_bump PASSED [ 62%]
tests/unit/test_model_registry.py::TestVersionManagement::test_get_model_by_specific_version PASSED [ 63%]
tests/unit/test_model_registry.py::TestModelDeletion::test_delete_model_by_id PASSED [ 63%]
tests/unit/test_model_registry.py::TestModelDeletion::test_delete_model_removes_pickle_file PASSED [ 63%]
tests/unit/test_model_registry.py::TestEdgeCases::test_save_model_without_optional_params PASSED [ 63%]
tests/unit/test_model_registry.py::TestEdgeCases::test_list_models_empty_registry PASSED [ 63%]
tests/unit/test_model_registry.py::TestEdgeCases::test_get_best_model_empty_registry PASSED [ 63%]
tests/unit/test_model_registry.py::TestEdgeCases::test_handles_corrupted_pickle_file PASSED [ 63%]
tests/unit/test_performance_monitor.py::TestPerformanceMonitorInitialization::test_init_creates_metrics PASSED [ 64%]
tests/unit/test_performance_monitor.py::TestPerformanceMonitorInitialization::test_init_with_custom_registry PASSED [ 64%]
tests/unit/test_performance_monitor.py::TestRequestLatencyMetrics::test_track_request_records_latency PASSED [ 64%]
tests/unit/test_performance_monitor.py::TestRequestLatencyMetrics::test_latency_buckets_configured_correctly PASSED [ 64%]
tests/unit/test_performance_monitor.py::TestRequestLatencyMetrics::test_latency_includes_labels PASSED [ 64%]
tests/unit/test_performance_monitor.py::TestThroughputMetrics::test_requests_total_increments PASSED [ 64%]
tests/unit/test_performance_monitor.py::TestThroughputMetrics::test_throughput_labels PASSED [ 64%]
tests/unit/test_performance_monitor.py::TestErrorRateMetrics::test_error_counter_increments_on_4xx PASSED [ 65%]
tests/unit/test_performance_monitor.py::TestErrorRateMetrics::test_error_counter_increments_on_5xx PASSED [ 65%]
tests/unit/test_performance_monitor.py::TestErrorRateMetrics::test_error_metric_labels PASSED [ 65%]
tests/unit/test_performance_monitor.py::TestSystemResourceMetrics::test_collect_system_metrics_returns_cpu_memory PASSED [ 65%]
tests/unit/test_performance_monitor.py::TestSystemResourceMetrics::test_update_system_gauges PASSED [ 65%]
tests/unit/test_performance_monitor.py::TestSystemResourceMetrics::test_check_cpu_threshold PASSED [ 65%]
tests/unit/test_performance_monitor.py::TestSystemResourceMetrics::test_check_memory_threshold PASSED [ 65%]
tests/unit/test_performance_monitor.py::TestModelPredictionMetrics::test_track_prediction_increments_counter PASSED [ 66%]
tests/unit/test_performance_monitor.py::TestModelPredictionMetrics::test_prediction_metric_labels PASSED [ 66%]
tests/unit/test_performance_monitor.py::TestModelPredictionMetrics::test_confidence_buckets PASSED [ 66%]
tests/unit/test_performance_monitor.py::TestCustomBusinessMetrics::test_update_daily_candidates_gauge PASSED [ 66%]
tests/unit/test_performance_monitor.py::TestCustomBusinessMetrics::test_track_feature_extraction_failure PASSED [ 66%]
tests/unit/test_performance_monitor.py::TestCustomBusinessMetrics::test_update_cache_hit_rate PASSED [ 66%]
tests/unit/test_performance_monitor.py::TestPrometheusIntegration::test_generate_metrics_output PASSED [ 66%]
tests/unit/test_performance_monitor.py::TestPrometheusIntegration::test_metrics_endpoint_format PASSED [ 67%]
tests/unit/test_performance_monitor.py::TestThresholdChecking::test_check_thresholds_returns_alerts PASSED [ 67%]
tests/unit/test_performance_monitor.py::TestThresholdChecking::test_no_alerts_when_under_thresholds PASSED [ 67%]
tests/unit/test_performance_monitor.py::TestPerformanceMonitorIntegration::test_full_request_lifecycle PASSED [ 67%]
tests/unit/test_performance_monitor.py::TestPerformanceMonitorIntegration::test_concurrent_metric_updates PASSED [ 67%]
tests/unit/test_prediction_endpoint.py::TestPredictionEndpointSetup::test_fastapi_app_initialization PASSED [ 67%]
tests/unit/test_prediction_endpoint.py::TestPredictionEndpointSetup::test_cors_middleware_enabled PASSED [ 67%]
tests/unit/test_prediction_endpoint.py::TestPredictionEndpointSetup::test_prediction_service_initialization PASSED [ 68%]
tests/unit/test_prediction_endpoint.py::TestPredictionSchemas::test_prediction_request_schema_valid PASSED [ 68%]
tests/unit/test_prediction_endpoint.py::TestPredictionSchemas::test_prediction_request_invalid_bse_code_format PASSED [ 68%]
tests/unit/test_prediction_endpoint.py::TestPredictionSchemas::test_prediction_request_invalid_bse_code_non_numeric PASSED [ 68%]
tests/unit/test_prediction_endpoint.py::TestPredictionSchemas::test_prediction_response_schema PASSED [ 68%]
tests/unit/test_prediction_endpoint.py::TestPredictionSchemas::test_batch_prediction_request_max_100_items PASSED [ 68%]
tests/unit/test_prediction_endpoint.py::TestPredictionSchemas::test_health_response_schema PASSED [ 68%]
tests/unit/test_prediction_endpoint.py::TestPredictEndpoint::test_predict_single_success 